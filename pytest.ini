[tool:pytest]
# pytest設定ファイル
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# テスト実行オプション
addopts = 
    -v
    --tb=short
    --strict-markers
    --disable-warnings
    --color=yes
    --durations=10
    --failed-first
    --cache-clear

# マーカー定義
markers =
    slow: marks tests as slow (deselect with '-m "not slow"')
    integration: marks tests as integration tests
    unit: marks tests as unit tests
    gui: marks tests that require GUI (pygame)
    sheets: marks tests that require Google Sheets
    api: marks tests for API functionality
    core: marks tests for core engine functionality
    contract: marks tests for CLI and library contract validation
    generator: marks tests for stage generation functionality
    validator: marks tests for stage validation functionality
    performance: marks tests that validate performance requirements
    bomb: marks tests for bomb item system functionality
    item_management: marks tests for item management API (is_available, dispose)
    state_validator: marks tests for A* vs game engine state comparison functionality
    enemy_ai: marks tests for unified enemy AI behavior synchronization

# フィルタリング
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
    ignore::UserWarning:pygame.*

# 出力設定
console_output_style = progress
junit_family = xunit2

# カバレッジ設定（オプション）
# addopts に --cov=engine --cov-report=html --cov-report=term を追加すると有効化